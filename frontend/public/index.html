<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>WorkCafe - Find Your Perfect Work Space</title>
  <!-- Correct CSS path -->
  <link rel="stylesheet" href="css/main.css">
  <link rel="manifest" href="public/manifest.json">
  <meta name="theme-color" content="#1e3a8a">
  <!-- Correct icon paths -->
  <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png">
</head>
<body>
  <header class="header">
    <div class="container">
      <div class="logo">
        <a href="/">
          <img src="images/logo.png" alt="WorkCafe Logo">
        </a>
      </div>
      
      <!-- Desktop Navigation -->
      <nav class="desktop-nav">
        <ul>
          <li><a href="/discover">Discover</a></li>
          <li><a href="/how-it-works">How It Works</a></li>
          <li><a href="/for-cafes">For Cafés</a></li>
          <li><a href="/about">About Us</a></li>
        </ul>
        <div class="auth-buttons">
          <button class="btn-outline" id="login-btn">Log In</button>
          <button class="btn-primary" id="signup-btn">Sign Up</button>
        </div>
      </nav>
      
      <!-- Mobile Navigation (hamburger button) -->
      <div class="mobile-nav-toggle">
        <button class="hamburger" id="hamburger-btn">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
    </div>
    
    <!-- Mobile Menu (hidden by default) -->
    <div class="mobile-menu" id="mobile-menu">
      <nav>
        <a href="/discover">Discover</a>
        <a href="/how-it-works">How It Works</a>
        <a href="/for-cafes">For Cafés</a>
        <a href="/about">About Us</a>
        <div class="mobile-auth">
          <button class="btn-outline" id="mobile-login-btn">Log In</button>
          <button class="btn-primary" id="mobile-signup-btn">Sign Up</button>
        </div>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container">
        <h1>Find The Perfect Café To Work From</h1>
        <p>Discover cafés with fast Wi-Fi, power outlets, and great coffee for productive remote work.</p>
        
        <div class="search-container">
          <div class="search-bar">
            <input type="text" placeholder="Enter location or zip code" id="location-search">
            <button class="search-btn" id="search-btn">Search</button>
            <button class="near-me-btn" id="near-me-btn">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                <path fill="none" d="M0 0h24v24H0z"/>
                <path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3A8.994 8.994 0 0 0 13 3.06V1h-2v2.06A8.994 8.994 0 0 0 3.06 11H1v2h2.06A8.994 8.994 0 0 0 11 20.94V23h2v-2.06A8.994 8.994 0 0 0 20.94 13H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/>
              </svg>
              Near Me
            </button>
          </div>
          
          <div class="filter-container">
            <button class="filter-toggle" id="filter-toggle">Filters</button>
            <div class="filters" id="filters">
              <div class="filter-group">
                <h3>Amenities</h3>
                <label><input type="checkbox" name="amenity" value="wifi"> Fast Wi-Fi</label>
                <label><input type="checkbox" name="amenity" value="power"> Power Outlets</label>
                <label><input type="checkbox" name="amenity" value="quiet"> Quiet Space</label>
                <label><input type="checkbox" name="amenity" value="meeting"> Meeting Rooms</label>
              </div>
              
              <div class="filter-group">
                <h3>Hours</h3>
                <label><input type="checkbox" name="hours" value="open_now"> Open Now</label>
                <label><input type="checkbox" name="hours" value="open_late"> Open Late</label>
                <label><input type="checkbox" name="hours" value="open_weekends"> Open Weekends</label>
              </div>
              
              <button class="btn-primary apply-filters" id="apply-filters-btn">Apply Filters</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="cafe-listings">
      <div class="container">
        <h2>Popular WorkCafés Near You</h2>
        
        <div class="category-scroll">
          <button class="category active" data-category="all">All</button>
          <button class="category" data-category="quiet">Quiet</button>
          <button class="category" data-category="group">Group-Friendly</button>
          <button class="category" data-category="outdoor">Outdoor Seating</button>
          <button class="category" data-category="late">Open Late</button>
        </div>
        
        <div class="cafe-cards" id="cafe-cards">
          <!-- Cafe cards will be dynamically generated here -->
          <div class="cafe-card lazy-load" data-id="1">
            <img 
              class="lazy"
              data-src="images/cafe1-large.jpg"
              src="images/placeholder.jpg"
              alt="Urban Coffee House"
            />
            <div class="cafe-info">
              <h3>Urban Coffee House</h3>
              <div class="cafe-meta">
                <span class="rating">4.8 ★</span>
                <span class="distance">0.5 miles</span>
              </div>
              <p>Fast Wi-Fi, Many Outlets, Quiet Environment</p>
              <div class="cafe-status">
                <span class="open">Open Now</span>
                <span class="occupancy">75% Full</span>
              </div>
              <button class="btn-outline view-details" data-cafe-id="1">View Details</button>
            </div>
          </div>
          
          <!-- Sample cafe card template -->
          <template id="cafe-card-template">
            <div class="cafe-card lazy-load" data-id="">
              <img 
                class="lazy"
                data-src=""
                src="images/placeholder.jpg"
                alt=""
              />
              <div class="cafe-info">
                <h3></h3>
                <div class="cafe-meta">
                  <span class="rating"></span>
                  <span class="distance"></span>
                </div>
                <p></p>
                <div class="cafe-status">
                  <span class="open"></span>
                  <span class="occupancy"></span>
                </div>
                <button class="btn-outline view-details">View Details</button>
              </div>
            </div>
          </template>
          
        </div>
        
        <button class="btn-outline load-more" id="load-more">Load More</button>
      </div>
    </section>
  </main>

  <!-- Loading Indicator -->
  <div id="loading-overlay" class="loading-overlay hidden">
    <div class="loading-spinner"></div>
    <p>Loading...</p>
  </div>

  <!-- Bottom Navigation (Mobile Only) -->
  <nav class="bottom-nav">
    <a class="bottom-nav-item active" href="/">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
        <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z"/>
      </svg>
      <span>Explore</span>
    </a>
    <a class="bottom-nav-item" href="/search">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
        <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
      </svg>
      <span>Search</span>
    </a>
    <a class="bottom-nav-item" href="/saved">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
        <path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"/>
      </svg>
      <span>Saved</span>
    </a>
    <a class="bottom-nav-item" href="/profile">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
      </svg>
      <span>Profile</span>
    </a>
  </nav>

  <!-- Floating Action Button (Mobile Only) -->
  <button class="fab" id="fab">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
      <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
    </svg>
  </button>

  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-logo">
          <img src="images/logo.png" alt="WorkCafe Logo">
          <p>© 2025 WorkCafe. All rights reserved.</p>
        </div>
        <div class="footer-links">
          <div class="footer-column">
            <h4>Company</h4>
            <a href="/about">About Us</a>
            <a href="/careers">Careers</a>
            <a href="/press">Press</a>
          </div>
          <div class="footer-column">
            <h4>Resources</h4>
            <a href="/blog">Blog</a>
            <a href="/help">Help Center</a>
            <a href="/contact">Contact Us</a>
          </div>
          <div class="footer-column">
            <h4>Legal</h4>
            <a href="/terms">Terms of Service</a>
            <a href="/privacy">Privacy Policy</a>
            <a href="/cookies">Cookie Policy</a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Correct script paths -->
  <script src="/js/api.js"></script>
  <script src="js/main.js"></script>
  <script>
    // Register service worker with the correct path
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js')
          .then(registration => {
            console.log('ServiceWorker registered: ', registration);
          })
          .catch(error => {
            console.log('ServiceWorker registration failed: ', error);
          });
      });
    }
  </script>
</body>
</html>